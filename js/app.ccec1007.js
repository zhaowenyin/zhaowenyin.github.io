(function(e){function t(t){for(var r,a,s=t[0],u=t[1],o=t[2],d=0,p=[];d<s.length;d++)a=s[d],i[a]&&p.push(i[a][0]),i[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);l&&l(t);while(p.length)p.shift()();return c.push.apply(c,o||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,a=1;a<n.length;a++){var s=n[a];0!==i[s]&&(r=!1)}r&&(c.splice(t--,1),e=u(u.s=n[0]))}return e}var r={},a={app:0},i={app:0},c=[];function s(e){return u.p+"js/"+({}[e]||e)+"."+{"chunk-2dac9249":"5d066d2c","chunk-4ccbcbc6":"755d6c51","chunk-16755b0a":"1c898f35","chunk-d395d902":"14527e99","chunk-1c554641":"4d95fddf","chunk-399c54d2":"00508b1b","chunk-662ac838":"ac797d5c","chunk-c64f8cb4":"eaea3527","chunk-6b164a9f":"28049c1a","chunk-557bfdff":"7523a227","chunk-6d1f788d":"5f70a8bf","chunk-94c6fe90":"117e22b4","chunk-adf6e90e":"b99da150","chunk-b6fac592":"a734989d","chunk-21c40176":"afbbd340","chunk-ba663f14":"c48e7e81"}[e]+".js"}function u(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(e){var t=[],n={"chunk-2dac9249":1,"chunk-4ccbcbc6":1,"chunk-16755b0a":1,"chunk-d395d902":1,"chunk-1c554641":1,"chunk-399c54d2":1,"chunk-662ac838":1,"chunk-c64f8cb4":1,"chunk-6b164a9f":1,"chunk-557bfdff":1,"chunk-6d1f788d":1,"chunk-94c6fe90":1,"chunk-adf6e90e":1,"chunk-21c40176":1,"chunk-ba663f14":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise(function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-2dac9249":"1ee830c5","chunk-4ccbcbc6":"d1d8283d","chunk-16755b0a":"46524d9d","chunk-d395d902":"b260c740","chunk-1c554641":"ba44eea0","chunk-399c54d2":"4455330c","chunk-662ac838":"231c38bb","chunk-c64f8cb4":"9518d894","chunk-6b164a9f":"bd583bc9","chunk-557bfdff":"688aad5d","chunk-6d1f788d":"4bd88b32","chunk-94c6fe90":"f30262d5","chunk-adf6e90e":"48643116","chunk-b6fac592":"31d6cfe0","chunk-21c40176":"35a3380c","chunk-ba663f14":"59bc5033"}[e]+".css",i=u.p+r,c=document.getElementsByTagName("link"),s=0;s<c.length;s++){var o=c[s],d=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(d===r||d===i))return t()}var p=document.getElementsByTagName("style");for(s=0;s<p.length;s++){o=p[s],d=o.getAttribute("data-href");if(d===r||d===i)return t()}var l=document.createElement("link");l.rel="stylesheet",l.type="text/css",l.onload=t,l.onerror=function(t){var r=t&&t.target&&t.target.src||i,c=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");c.request=r,delete a[e],l.parentNode.removeChild(l),n(c)},l.href=i;var f=document.getElementsByTagName("head")[0];f.appendChild(l)}).then(function(){a[e]=0}));var r=i[e];if(0!==r)if(r)t.push(r[2]);else{var c=new Promise(function(t,n){r=i[e]=[t,n]});t.push(r[2]=c);var o,d=document.createElement("script");d.charset="utf-8",d.timeout=120,u.nc&&d.setAttribute("nonce",u.nc),d.src=s(e),o=function(t){d.onerror=d.onload=null,clearTimeout(p);var n=i[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src,c=new Error("Loading chunk "+e+" failed.\n("+r+": "+a+")");c.type=r,c.request=a,n[1](c)}i[e]=void 0}};var p=setTimeout(function(){o({type:"timeout",target:d})},12e4);d.onerror=d.onload=o,document.head.appendChild(d)}return Promise.all(t)},u.m=e,u.c=r,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)u.d(n,r,function(t){return e[t]}.bind(null,r));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="",u.oe=function(e){throw console.error(e),e};var o=window["webpackJsonp"]=window["webpackJsonp"]||[],d=o.push.bind(o);o.push=t,o=o.slice();for(var p=0;p<o.length;p++)t(o[p]);var l=d;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"092b":function(e,t,n){},"2e17":function(e,t,n){"use strict";n.d(t,"f",function(){return i}),n.d(t,"g",function(){return s}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return p}),n.d(t,"d",function(){return f}),n.d(t,"c",function(){return h}),n.d(t,"e",function(){return b}),n.d(t,"h",function(){return _}),n.d(t,"i",function(){return w}),n.d(t,"j",function(){return x});n("96cf");var r=n("3b8d"),a=n("7c15");function i(e){return c.apply(this,arguments)}function c(){return c=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n={task_index:t.task_index},e.abrupt("return",a["a"].get("/api/v3/doctorapp/serves/orders/".concat(t.id,"/tasks/gauges"),{params:n}));case 2:case"end":return e.stop()}},e,this)})),c.apply(this,arguments)}function s(e){return u.apply(this,arguments)}function u(){return u=Object(r["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",a["a"].get("/api/v3/doctorapp/gauges/preview/".concat(t.id)));case 1:case"end":return e.stop()}},e,this)})),u.apply(this,arguments)}function o(e){return d.apply(this,arguments)}function d(){return d=Object(r["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",a["a"].post("/api/v3/doctorapp/serves/orders/tasks/gauges/results",t));case 1:case"end":return e.stop()}},e,this)})),d.apply(this,arguments)}function p(e){return l.apply(this,arguments)}function l(){return l=Object(r["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",a["a"].post("/api/v3/doctorapp/serves/orders/tasks/gauges/results/cache",t));case 1:case"end":return e.stop()}},e,this)})),l.apply(this,arguments)}function f(e){return v.apply(this,arguments)}function v(){return v=Object(r["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t),e.abrupt("return",a["a"].post("/api/v3/doctorapp/gauges/preview/answers",t));case 2:case"end":return e.stop()}},e,this)})),v.apply(this,arguments)}function h(e){return m.apply(this,arguments)}function m(){return m=Object(r["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",a["a"].post("/api/v3/doctorapp/gauges/thirdparty/answers",t));case 1:case"end":return e.stop()}},e,this)})),m.apply(this,arguments)}function b(e){return g.apply(this,arguments)}function g(){return g=Object(r["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t),e.abrupt("return",a["a"].post("/api/v3/doctorapp/sys/images",t));case 2:case"end":return e.stop()}},e,this)})),g.apply(this,arguments)}function _(e){return k.apply(this,arguments)}function k(){return k=Object(r["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",a["a"].get("/api/v3/doctorapp/serves/tasks/gauges/results",{params:t}));case 1:case"end":return e.stop()}},e,this)})),k.apply(this,arguments)}function w(e){return y.apply(this,arguments)}function y(){return y=Object(r["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return console.log("pc"),e.abrupt("return",a["a"].get("/api/v3/doctorapp/serves/tasks/plans/gauges/results",{params:t}));case 2:case"end":return e.stop()}},e,this)})),y.apply(this,arguments)}function x(e){return O.apply(this,arguments)}function O(){return O=Object(r["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",a["a"].post("/api/v3/doctorapp/sys/gps",t));case 1:case"end":return e.stop()}},e,this)})),O.apply(this,arguments)}},"404f":function(e,t,n){},5308:function(e,t,n){"use strict";n.d(t,"d",function(){return c}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return u}),n.d(t,"a",function(){return o});var r=n("f499"),a=n.n(r),i=null;function c(e){i=a()(e)}function s(){return JSON.parse(i)}function u(e,t){var n=s();if(n){var r=n.doctor_id,i="personal_".concat(r,"_").concat(e);localStorage.setItem(i,a()(t))}}function o(e){var t=s(),n=t.doctor_id,r="personal_".concat(n,"_").concat(e);return JSON.parse(localStorage.getItem(r))}},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var r=n("2b0e"),a=n("76a0"),i=n.n(a),c=(n("aa35"),n("404f"),n("dfa4"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)}),s=[],u={name:"App"},o=u,d=(n("cef2"),n("2877")),p=Object(d["a"])(o,c,s,!1,null,"ca7a3b1c",null);p.options.__file="App.vue";var l=p.exports,f=n("8c4f"),v=function(){return Promise.all([n.e("chunk-4ccbcbc6"),n.e("chunk-d395d902"),n.e("chunk-1c554641"),n.e("chunk-662ac838")]).then(n.bind(null,"e37d"))},h=function(){return Promise.all([n.e("chunk-4ccbcbc6"),n.e("chunk-16755b0a")]).then(n.bind(null,"45ab"))},m=function(){return Promise.all([n.e("chunk-4ccbcbc6"),n.e("chunk-d395d902"),n.e("chunk-6b164a9f")]).then(n.bind(null,"432c"))},b=function(){return Promise.all([n.e("chunk-4ccbcbc6"),n.e("chunk-d395d902"),n.e("chunk-1c554641"),n.e("chunk-399c54d2")]).then(n.bind(null,"744d"))},g=function(){return Promise.all([n.e("chunk-4ccbcbc6"),n.e("chunk-d395d902"),n.e("chunk-1c554641"),n.e("chunk-c64f8cb4")]).then(n.bind(null,"0905"))},_=function(){return n.e("chunk-557bfdff").then(n.bind(null,"989c"))},k=function(){return n.e("chunk-94c6fe90").then(n.bind(null,"4bcc"))},w=function(){return n.e("chunk-6d1f788d").then(n.bind(null,"3203"))},y=function(){return n.e("chunk-2dac9249").then(n.bind(null,"f4bc"))},x=function(){return n.e("chunk-adf6e90e").then(n.bind(null,"4bc5"))},O=function(){return Promise.all([n.e("chunk-b6fac592"),n.e("chunk-21c40176")]).then(n.bind(null,"87bc"))},j=function(){return Promise.all([n.e("chunk-b6fac592"),n.e("chunk-ba663f14")]).then(n.bind(null,"94f5"))};r["default"].use(f["a"]);var R=new f["a"]({routes:[{path:"/",name:"首页",component:v},{path:"/task",name:"任务模板",component:v},{path:"/confirm",name:"结果确认",component:g},{path:"/result",name:"结果",component:m},{path:"/result2",name:"结果2",component:b},{path:"/html",name:"富文本",component:h},{path:"/medicine",name:"药品",component:_},{path:"/selector",name:"选择",component:k},{path:"/laboratory-list",name:"检验更多列表",component:w},{path:"/check-list",name:"检查更多列表",component:y},{path:"/check-detail",name:"检查更多列表",component:x},{path:"/selectdata",name:"呼吸家肺功能仪",component:O},{path:"/magnify",name:"拍照预览",component:j}]}),I=R,q=n("2f62"),L=(n("96cf"),n("3b8d")),D=n("795b"),T=n.n(D);function S(){return N.apply(this,arguments)}function N(){return N=Object(L["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new T.a(function(e){setTimeout(function(){e({data:{}})},500)}));case 1:case"end":return e.stop()}},e,this)})),N.apply(this,arguments)}var C={namespaced:!0,state:{dimension:[]},mutations:{updateDimension:function(e,t){var n=[];for(var r in t.data){var a=t.data[r].map(function(e){return{value:e,label:e}});n.push({value:r,label:r,children:a})}console.log(n),e.dimension=n}},actions:{getDimension:function(){var e=Object(L["a"])(regeneratorRuntime.mark(function e(t){var n,r,a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.commit,r=t.state,!(r.dimension.length>0)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,S();case 5:a=e.sent,i=a.data,n({type:"updateDimension",data:i});case 8:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}},z=n("f499"),P=n.n(z),E=n("5d73"),B=n.n(E),A=(n("a481"),n("7514"),n("2e17")),M={namespaced:!0,state:{taskList:[],loading:!1,allData:{},gps:null,resultData:{},resultList:[],type:"",name:"",positionTop:0,operate_begin:"",citizen_id:""},mutations:{clearState:function(e){e.taskList=[],e.loading=!1,e.allData={},e.resultData={},e.resultList=[],e.type="",e.name="",e.positionTop=0,e.citizen_id=""},showLoading:function(e){e.loading=!0},hideLoading:function(e){e.loading=!1},updateGps:function(e,t){e.gps=t},updateOperateBegin:function(e){e.operate_begin=(new Date).getTime()},updateList:function(e,t){var n=t.data,r=n.content,a=void 0===r?{}:r,i=n.cache_answers,c=void 0===i?[]:i,s=a.app_frontend_config,u=void 0===s?"{}":s,o=a.questions,d=void 0===o?[]:o,p=JSON.parse(u).order||[],l=[4,6,10,22];e.taskList=p.map(function(t){return t=t.map(function(t){var n=d.find(function(e){return e.frontend_id===t});if(n){if(n.question=JSON.parse(n.question),1===n.type){if(n.question.hasNoknow&&n.question.options&&n.question.options.push({label:"不清楚",value:"不清楚",visibles:n.question.hasNoknow_visibles}),n.question.options){var r=n.question.options.length,a=0;n.question.options.map(function(e){a=Math.max(a,e.label.length)});var i=[],s=0;l.map(function(e,t){var n=Math.ceil(r/(4-t));s&&n===s&&i.pop(),i.push(4-t),s=n});for(var u=0;u<i.length;u++){var o=i[u];if(l[4-o]>=a){n.question.optionType=o;break}}}}else if(2===n.type){if(n.question.hasNoknow&&n.question.options&&n.question.options.push({label:"不清楚",value:"不清楚",visibles:n.question.hasNoknow_visibles}),n.question.hasNoAll){var p=n.question.noAllName?n.question.noAllName:"以上都不是";n.question.options&&n.question.options.push({label:p,value:p,visibles:n.question.hasNoAll_visibles})}if(n.question.options){var f=n.question.options.length,v=0;n.question.options.map(function(e){v=Math.max(v,e.label.length)});var h=[],m=0;l.map(function(e,t){var n=Math.ceil(f/(4-t));m&&n===m&&h.pop(),h.push(4-t),m=n}),console.log(h);for(var b=0;b<h.length;b++){var g=h[b];if(l[4-g]>=v){n.question.optionType=g;break}}}}else 5===n.type&&(n.question.html=n.question.html.replace(/(?=[^>])[^<>]*(?=[<$])/g,function(e){return e.replace(/ /g,"&nbsp;").replace(/\n/g,"<br/>")}),n.question.isRequired=!1);n.error="";var _=c.find(function(e){return e.frontend_id===n.frontend_id})||{},k=_.answer,w=void 0===k?[]:k;return w&&w.length>0?1===n.type||2===n.type||8===n.type||11===n.type||12===n.type||13===n.type||14===n.type?n.value=w:10===n.type?n.value=+w[0]:n.value=w[0]:(n.common_default_answer=null,n.question.frontend_default_answer&&n.question.frontend_default_answer.length>0&&(n.common_default_answer=n.question.frontend_default_answer),n.default_answer&&n.default_answer.length>0&&(n.common_default_answer=n.default_answer),n.label_default_answer&&n.label_default_answer.length>0&&(n.common_default_answer=n.label_default_answer),n.share_gauge_default_answer&&n.share_gauge_default_answer.length>0&&(n.common_default_answer=n.share_gauge_default_answer),n.common_default_answer&&n.common_default_answer[0]&&12!==n.type&&13!==n.type?n.isShowAi=!0:n.isShowAi=!1,1===n.type||2===n.type||8===n.type||11===n.type||12===n.type||13===n.type||14===n.type?n.common_default_answer&&n.common_default_answer.length>0?n.value=n.common_default_answer:n.value=null:n.value=n.common_default_answer&&n.common_default_answer[0]||null),(8===n.type||14===n.type)&&n.value&&n.value.length>0&&(n.value=n.value.map(function(e){return e=JSON.parse(e),e})),9===n.type&&null===n.value&&(n.value=n.question.options[0]),8===n.type&&(n.isaddMedicine=!1),10===n.type&&(n.value?n.value=+n.value:n.value=n.question.options[0]),12!==n.type&&13!==n.type||(n.question.isRequired=!1),14===n.type&&(e.ishasType_14=!0),n}return null}).filter(function(e){return e}),t}).filter(function(e){return e&&e.length>0}),e.allData=t.data,e.citizen_id=t.data.citizen_id},updateResults:function(e,t){var n=t.data,r=n.answers,a=void 0===r?[]:r,i=n.content,c=void 0===i?{}:i,s=c.questions,u=void 0===s?[]:s,o=[];e.resultList=u.map(function(e){if(e.question=JSON.parse(e.question),1===e.type)e.question.hasNoknow&&e.question.options&&e.question.options.push({label:"不清楚",value:"不清楚",visibles:e.question.hasNoknow_visibles});else if(2===e.type){if(e.question.hasNoknow&&e.question.options&&e.question.options.push({label:"不清楚",value:"不清楚",visibles:e.question.hasNoknow_visibles}),e.question.hasNoAll){var t=e.question.noAllName?e.question.noAllName:"以上都不是";e.question.options&&e.question.options.push({label:t,value:t,visibles:e.question.hasNoAll_visibles})}}else 5===e.type&&(e.question.html=e.question.html.replace(/(?=[^>])[^<>]*(?=[<$])/g,function(e){return e.replace(/ /g,"&nbsp;").replace(/\n/g,"<br/>")}),e.question.isRequired=!1);e.error="";var n=a.find(function(t){return t.frontend_id===e.frontend_id})||{},r=n.answer,i=void 0===r?[]:r;if(i&&i.length>0?1===e.type||2===e.type||8===e.type||11===e.type||12===e.type||13===e.type||14===e.type?e.value=i:e.value=i[0]:e.value=null,8!==e.type&&14!==e.type||!e.value||(e.value=e.value.map(function(e){return e=JSON.parse(e),e})),12!==e.type&&13!==e.type||(e.question.isRequired=!1),e.question.isVisible||o.find(function(t){return t===e.frontend_id})){if((1===e.type||2===e.type)&&e.value&&e.value.length>0){var c=!0,s=!1,u=void 0;try{for(var d,p=B()(e.value);!(c=(d=p.next()).done);c=!0){var l=d.value;if(e.question.options&&e.question.options.length>0){var f=!0,v=!1,h=void 0;try{for(var m,b=B()(e.question.options);!(f=(m=b.next()).done);f=!0){var g=m.value;if(g.value===l){g.visibles&&(o=o.concat(g.visibles));break}}}catch(_){v=!0,h=_}finally{try{f||null==b.return||b.return()}finally{if(v)throw h}}}}}catch(_){s=!0,u=_}finally{try{c||null==p.return||p.return()}finally{if(s)throw u}}}4!==e.type&&3!==e.type||(e.question.valuable&&e.value&&(o=o.concat(e.question.valuable)),e.question.noValue&&!e.value&&(o=o.concat(e.question.noValue)))}return e}).filter(function(e){return e.question.isVisible||o.find(function(t){return t===e.frontend_id})}),e.resultData=t.data,e.allData=t.data,e.citizen_id=t.data.citizen_id},savePosition:function(e,t){e.positionTop=t},handerPhoto:function(e,t){e.taskList=e.taskList.map(function(e){return e=e.map(function(e){if(e.frontend_id===t.frontend_id){e.value||(e.value=[]);var n=!0,r=!1,a=void 0;try{for(var i,c=B()(t.img);!(n=(i=c.next()).done);n=!0){var s=i.value;e.value.push(s.data)}}catch(u){r=!0,a=u}finally{try{n||null==c.return||c.return()}finally{if(r)throw a}}}return e}),e})}},actions:{getListData:function(){var e=Object(L["a"])(regeneratorRuntime.mark(function e(t,n){var r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.commit,r({type:"showLoading"}),e.prev=2,"app"!==n.source){e.next=9;break}return e.next=6,Object(A["f"])(n);case 6:a=e.sent,e.next=13;break;case 9:if("h5"!==n.source){e.next=13;break}return e.next=12,Object(A["g"])(n);case 12:a=e.sent;case 13:r({type:"updateList",data:a.data});case 14:return e.prev=14,r({type:"hideLoading"}),e.finish(14);case 17:case"end":return e.stop()}},e,this,[[2,,14,17]])}));function t(t,n){return e.apply(this,arguments)}return t}(),submitData:function(){var e=Object(L["a"])(regeneratorRuntime.mark(function e(t,n){var r,a,i,c,s,u,o,d,p,l,f;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.commit,a=t.state,r({type:"showLoading"}),e.prev=2,c=n.query,s=c.source,u=void 0===s?"app":s,o=c.title,d=c.serve_order_id,p=c.task_index,l=c.answer_source,"app"!==u){e.next=14;break}return f={citizen_id:n.citizen_id,result:n.result,serve_order_id:d,task_index:p,operate_begin:a.operate_begin,operate_end:(new Date).getTime(),longitude:a.gps&&a.gps.longitude,latitude:a.gps&&a.gps.latitude},f.longitude||delete f.longitude,f.latitude||delete f.latitude,e.next=10,Object(A["b"])(f);case 10:i=e.sent,I.push({path:"/result",query:{resultId:i.data.gauge_answer_id,title:o,source:u,citizen_id:n.citizen_id,serve_order_id:d,task_index:p}}),e.next=26;break;case 14:if("h5"!==u){e.next=26;break}if(!l){e.next=21;break}return e.next=18,Object(A["c"])({result:n.result,gauge_id:d,answer_source:l});case 18:i=e.sent,e.next=24;break;case 21:return e.next=23,Object(A["d"])({result:n.result,gauge_id:d});case 23:i=e.sent;case 24:r({type:"updateResults",data:i.data}),I.push({path:"/result",query:{title:o,source:u,citizen_id:n.citizen_id,serve_order_id:d,task_index:p,answer_source:l}});case 26:return e.prev=26,r({type:"hideLoading"}),e.finish(26);case 29:case"end":return e.stop()}},e,this,[[2,,26,29]])}));function t(t,n){return e.apply(this,arguments)}return t}(),submitCacheData:function(){var e=Object(L["a"])(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,r({type:"showLoading"}),e.prev=2,e.next=5,Object(A["a"])(n.params);case 5:Object(a["Toast"])({message:"暂存成功",position:"center",iconClass:"icon icon-success",duration:3e3}),n.val&&n.val.back&&window.postMessage(P()({name:"goBack"}));case 7:return e.prev=7,r({type:"hideLoading"}),e.finish(7);case 10:case"end":return e.stop()}},e,this,[[2,,7,10]])}));function t(t,n){return e.apply(this,arguments)}return t}(),searchResultList:function(){var e=Object(L["a"])(regeneratorRuntime.mark(function e(t,n){var r,a,i,c,s,u,o,d,p,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.state,a=t.commit,a({type:"showLoading"}),e.prev=2,i=null,"app"!==n.source){e.next=43;break}return e.next=7,Object(A["h"])({gauge_result_id:n.gauge_result_id,serve_order_id:n.serve_order_id,task_index:n.task_index,citizen_id:n.citizen_id});case 7:if(i=e.sent,!r.gps){e.next=40;break}c=!1,s=!0,u=!1,o=void 0,e.prev=13,d=B()(i.data.script_result);case 15:if(s=(p=d.next()).done){e.next=23;break}if(l=p.value,!l.task_index){e.next=20;break}return c=!0,e.abrupt("break",23);case 20:s=!0,e.next=15;break;case 23:e.next=29;break;case 25:e.prev=25,e.t0=e["catch"](13),u=!0,o=e.t0;case 29:e.prev=29,e.prev=30,s||null==d.return||d.return();case 32:if(e.prev=32,!u){e.next=35;break}throw o;case 35:return e.finish(32);case 36:return e.finish(29);case 37:if(!c)try{Object(A["j"])({lng:r.gps.longitude,lat:r.gps.latitude,type:2,serve_id:n.serve_order_id})}catch(f){console.log("gps上传失败")}e.next=41;break;case 40:console.log("获取gps失败");case 41:e.next=47;break;case 43:if("h5"!==n.source){e.next=47;break}return e.next=46,Object(A["i"])({gauge_result_id:n.gauge_result_id,serve_order_id:n.serve_order_id,task_index:n.task_index,citizen_id:n.citizen_id});case 46:i=e.sent;case 47:a({type:"updateResults",data:i.data});case 48:return e.prev=48,a({type:"hideLoading"}),e.finish(48);case 51:case"end":return e.stop()}},e,this,[[2,,48,51],[13,25,29,37],[30,,32,36]])}));function t(t,n){return e.apply(this,arguments)}return t}()}},J={namespaced:!0,state:{checkItem:{}},mutations:{clearState:function(e){e.checkItem={}},saveCheckItem:function(e,t){e.checkItem=t}},actions:{}},V=n("cebc"),F=(n("ac6a"),n("7f7f"),n("7c15"));function U(e){return $.apply(this,arguments)}function $(){return $=Object(L["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",F["a"].get("/api/v3/doctorapp/gauges/questions/medicine",{params:t}));case 1:case"end":return e.stop()}},e,this)})),$.apply(this,arguments)}var Y={namespaced:!0,state:{medicineItem:{},medicineList:[],currentItem:{},loading:!1},mutations:{clearStateMedicine:function(e){e.medicineItem={},e.medicineList=[],e.currentItem={},e.loading=!1},showLoading:function(e){e.loading=!0},hideLoading:function(e){e.loading=!1},saveMedicine:function(e,t){e.medicineItem=t.payload},updateMedicineList:function(e,t){e.medicineList=t.data.list}},actions:{searchMedicineList:function(){var e=Object(L["a"])(regeneratorRuntime.mark(function e(t,n){var r,a,i,c,s,u,o,d,p,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,r({type:"showLoading"}),e.prev=2,e.next=5,U({menu:n.menu});case 5:for(a=e.sent,i=a.data,r({type:"updateMedicineList",data:i}),c={medicine_name:n.item.name,medicine_id:""},s=!0,u=!1,o=void 0,e.prev=12,d=B()(i.list);!(s=(p=d.next()).done);s=!0)l=p.value,l.medicine_id===n.item.id&&(c=l);e.next=20;break;case 16:e.prev=16,e.t0=e["catch"](12),u=!0,o=e.t0;case 20:e.prev=20,e.prev=21,s||null==d.return||d.return();case 23:if(e.prev=23,!u){e.next=26;break}throw o;case 26:return e.finish(23);case 27:return e.finish(20);case 28:r({type:"saveMedicine",payload:c});case 29:return e.prev=29,r({type:"hideLoading"}),e.finish(29);case 32:case"end":return e.stop()}},e,this,[[2,,29,32],[12,16,20,28],[21,,23,27]])}));function t(t,n){return e.apply(this,arguments)}return t}(),saveCurrentItem:function(e,t){var n=e.state,r=e.rootState,a=r.task.taskList,i=!0,c=!1,s=void 0;try{for(var u,o=B()(a);!(i=(u=o.next()).done);i=!0){var d=u.value,p=!0,l=!1,f=void 0;try{for(var v,h=B()(d);!(p=(v=h.next()).done);p=!0){var m=v.value;if(m.frontend_id===t.frontend_id){var b=JSON.parse(P()(m)),g={};b.value&&b.value.forEach(function(e,n){n===t.key&&(g=e)});var _=JSON.parse(P()(g)),k=Object(V["a"])({menu:b.question.medicineMenu,id:"",name:"",typeName:"",type:"",pow:"",pow_label:"",spec:"",spec_label:"",dosage_num:0,dosage:"",dosage_label:"",frequency_num:0,frequency:"",frequency_label:"",medicine:0,medicine_unit:"天"},_);n.currentItem=JSON.parse(P()(k));break}}}catch(w){l=!0,f=w}finally{try{p||null==h.return||h.return()}finally{if(l)throw f}}}}catch(w){c=!0,s=w}finally{try{i||null==o.return||o.return()}finally{if(c)throw s}}},savequetions:function(e,t){var n=e.state,r=e.rootState,a=JSON.parse(P()(n.currentItem));r.task.taskList=r.task.taskList.map(function(e){return e=e.map(function(e){return e.frontend_id===t.frontend_id&&(e.value||(e.value=[]),""===t.key?(e.value.push(a),e.isaddMedicine=!1):e.value.splice(t.key,1,a)),e}),e})}}},H=(n("28a5"),n("76e9")),G=n("6be8"),K=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mint-msgbox-wrapper2"},[n("div",{staticClass:"mint-msgbox-bg2"}),n("transition",{attrs:{name:"msgbox-bounce2"}},[n("div",{staticClass:"mint-msgbox2"},[""!==e.message?n("div",{staticClass:"mint-msgbox-content2"},[n("div",{staticClass:"mint-msgbox-message2",domProps:{innerHTML:e._s(e.message)}})]):e._e(),n("div",{staticClass:"mint-msgbox-btns2"},[n("button",{directives:[{name:"show",rawName:"v-show",value:e.showCancelButton,expression:"showCancelButton"}],class:[e.cancelButtonClasses],on:{click:function(t){e.handleAction("cancel")}}},[e._v(e._s(e.cancelButtonText))]),n("button",{directives:[{name:"show",rawName:"v-show",value:e.showConfirmButton,expression:"showConfirmButton"}],class:[e.confirmButtonClasses],on:{click:function(t){e.handleAction("confirm")}}},[e._v(e._s(e.confirmButtonText))])])])])],1)},X=[],W={props:{},computed:{confirmButtonClasses:function(){var e="mint-msgbox-btn2 mint-msgbox-confirm2 "+this.confirmButtonClass;return this.confirmButtonHighlight&&(e+=" mint-msgbox-confirm-highlight2"),e},cancelButtonClasses:function(){var e="mint-msgbox-btn2 mint-msgbox-cancel2 "+this.cancelButtonClass;return this.cancelButtonHighlight&&(e+=" mint-msgbox-cancel-highlight2"),e}},methods:{handleAction:function(e){this.callback(e),this.close()}},watch:{},data:function(){return{message:"",showConfirmButton:!0,showCancelButton:!1,confirmButtonText:"确定",cancelButtonText:"取消",confirmButtonClass:"",cancelButtonClass:"",callback:null}}},Q=W,Z=(n("ebc2"),Object(d["a"])(Q,K,X,!1,null,"16e92f92",null));Z.options.__file="message-box.vue";var ee=Z.exports,te=r["default"].extend(ee),ne={},re=null,ae=function(e){ne.resolve(e)},ie=function(){re.$el&&re.$el.parentNode.removeChild(re.$el),re=null,ne={}},ce=function(){re=new te({el:document.createElement("div")}),re.callback=ae,re.close=ie,document.body.appendChild(re.$el)},se=function(){re||ce();var e=ne.options;for(var t in e)e.hasOwnProperty(t)&&(re[t]=e[t])},ue=function(e){return new T.a(function(t,n){ne={options:e,resolve:t,reject:n},se()})};ue.close=function(){re&&re.close()};var oe=ue,de=n("5308"),pe=n("ace7"),le={namespaced:!0,state:{device:{},ishasType_14:"",timerId:1,timerObj:{},deviceList:[],state2:!1,deviceInfo:{},lastDeviceInfo:{},timing:{},timerId1:1,timerObj1:{},timerObj2:{},timerId2:1,tableList:[],chartList:[],volumeTimeList:[],dataset:[],save_device_info:[],save_device_ids:"",citizenInfo:{},predictInfo:{},selectLoading:!1,frontend_id:""},mutations:{clearDivce:function(e){e.tableList=[],e.chartList=[],e.volumeTimeList=[],e.dataset=[]},clearState:function(e){e.timerId=1,e.timerObj={},e.deviceList=[],e.state2=!1,e.deviceInfo={},e.timing={},e.timerId1=1,e.timerObj1={},e.timerObj2={},e.timerId2=1,e.tableList=[],e.chartList=[],e.volumeTimeList=[],e.dataset=[],e.citizenInfo={},e.predictInfo={},e.frontend_id=""},stop:function(e){e.timerObj={}},clear:function(e){e.timerObj1={}},stop2:function(e){e.timerObj2={}},saveDeviceType:function(e,t){e.save_device_info=t.devices;var n=[],r=!0,a=!1,i=void 0;try{for(var c,s=B()(t.devices);!(r=(c=s.next()).done);r=!0){var u=c.value;n.push(u.vendor_id)}}catch(o){a=!0,i=o}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}e.save_device_ids=n.join(","),e.frontend_id=t.frontend_id},updateCitizen:function(e,t){e.citizenInfo=t.data},updatePredict:function(e,t){e.predictInfo=t.data},hideSelectLoading:function(e){e.selectLoading=!1},showSelectLoading:function(e){e.selectLoading=!0}},actions:{start:function(){var e=Object(L["a"])(regeneratorRuntime.mark(function e(t){var n,r,a,i,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:c=function(){return c=Object(L["a"])(regeneratorRuntime.mark(function e(){var t,r,c,s,u,o,d,p,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n.timerObj[a]){e.next=2;break}return e.abrupt("return");case 2:return t=n.save_device_info[0]&&n.save_device_info[0].device_type,e.next=5,Object(H["h"])({device_type:t,vendor_id:n.save_device_ids});case 5:r=e.sent,c=r.data,n.state2=!1,s=!0,u=!1,o=void 0,e.prev=11,d=B()(c.devices);case 13:if(s=(p=d.next()).done){e.next=21;break}if(l=p.value,1!==l.state){e.next=18;break}return n.state2=!0,e.abrupt("break",21);case 18:s=!0,e.next=13;break;case 21:e.next=27;break;case 23:e.prev=23,e.t0=e["catch"](11),u=!0,o=e.t0;case 27:e.prev=27,e.prev=28,s||null==d.return||d.return();case 30:if(e.prev=30,!u){e.next=33;break}throw o;case 33:return e.finish(30);case 34:return e.finish(27);case 35:n.deviceList=c.devices,setTimeout(i,5e3);case 37:case"end":return e.stop()}},e,this,[[11,23,27,35],[28,,30,34]])})),c.apply(this,arguments)},i=function(){return c.apply(this,arguments)},n=t.state,r=t.commit,r({type:"stop"}),a=n.timerId++,n.timerObj[a]=!0,i();case 7:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),searchDeviceList:function(){var e=Object(L["a"])(regeneratorRuntime.mark(function e(t,n){var r,a,i,c,s,u,o,d,p;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.state,e.next=3,Object(H["h"])(n);case 3:a=e.sent,i=a.data,r.state2=!1,c=!0,s=!1,u=void 0,e.prev=9,o=B()(i.devices);case 11:if(c=(d=o.next()).done){e.next=19;break}if(p=d.value,1!==p.state){e.next=16;break}return r.state2=!0,e.abrupt("break",19);case 16:c=!0,e.next=11;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e["catch"](9),s=!0,u=e.t0;case 25:e.prev=25,e.prev=26,c||null==o.return||o.return();case 28:if(e.prev=28,!s){e.next=31;break}throw u;case 31:return e.finish(28);case 32:return e.finish(25);case 33:r.deviceList=i.devices;case 34:case"end":return e.stop()}},e,this,[[9,21,25,33],[26,,28,32]])}));function t(t,n){return e.apply(this,arguments)}return t}(),searchCitizen:function(){var e=Object(L["a"])(regeneratorRuntime.mark(function e(t){var n,r,a,i,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=t.rootState,a=r.task.citizen_id,e.next=4,Object(H["e"])(a);case 4:i=e.sent,c=i.data,n({type:"updateCitizen",data:c});case 7:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),searchDevice:function(){var e=Object(L["a"])(regeneratorRuntime.mark(function e(t,n){var r,a,i,c,s,u,o,d,p,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.state,a=t.dispatch,i=t.commit,c=t.rootState,e.prev=1,i({type:"showSelectLoading"}),s=c.task.citizen_id,u=Object(G["f"])(n.info.vendor_no),o={},!n.info||!n.info.bluetooth||"chengyirenjia"===n.info.vendor_no){e.next=13;break}return e.next=9,Object(H["i"])({deviceName:n.device_id,deviceType:u});case 9:o.state=1,r.currenTime=1e3*+pe["a"]+Date.parse(new Date),e.next=22;break;case 13:return e.next=15,Object(H["g"])({device_id:n.info.id,citizen_id:s});case 15:if(d=e.sent,p=d.data,!n.info||!n.info.bluetooth||1!==+p.state){e.next=20;break}return e.next=20,Object(H["i"])({deviceName:n.device_id,deviceType:u});case 20:o=p,r.currenTime=1e3*+o.expire_in+Date.parse(new Date);case 22:if(1!==+o.state){e.next=35;break}if(o.device_id=n.device_id,o=Object(V["a"])({},n.info,o,{device_name:n.info.name}),!n||!n.isChangeData){e.next=30;break}if(r.deviceInfo.bluetooth=n.info.bluetooth,n.tabchange){e.next=29;break}return e.abrupt("return");case 29:a("searchPredict");case 30:a({type:"timing",currenTime:r.currenTime}),i({type:"stop"}),l=Object(de["a"])("lastDevice"),l&&l.vendor_id!==n.info.vendor_id&&a("savedata",{frontend_id:r.frontend_id,data:null}),Object(de["c"])("lastDevice",{bluetooth:o.bluetooth,device_id:o.device_id,device_name:o.device_name,id:o.id||"",vendor_id:o.vendor_id,device_type:o.type});case 35:r.deviceInfo=o,r.lastDeviceInfo=o,i({type:"hideSelectLoading"}),e.next=44;break;case 40:e.prev=40,e.t0=e["catch"](1),console.log(11,e.t0),r.deviceInfo={};case 44:return e.prev=44,i({type:"hideSelectLoading"}),e.finish(44);case 47:case"end":return e.stop()}},e,this,[[1,40,44,47]])}));function t(t,n){return e.apply(this,arguments)}return t}(),timing:function(e,t){var n=e.state,r=e.commit,a=e.dispatch;r({type:"clear"}),n.timing={};var i=t.currenTime,c=n.timerId1++;function s(){if(n.timerObj1[c]){if(+n.timing.remaining<=3e5){var e=n.timing.remaining<=1e3;oe({title:"",message:e?"已断开".concat(n.deviceInfo.device_name,"设备连接"):"您已经有很长时间未进行任何操作，".concat(n.timing.time,"后自动断开").concat(n.deviceInfo.device_name,"设备连接"),showCancelButton:!e,cancelButtonText:"断开连接",showConfirmButton:!0,confirmButtonText:e?"确定":"继续查看"}).then(function(t){n.timing={},"cancel"===t&&a("disconnect"),"confirm"===t&&(e||(r({type:"clear"}),a("searchexpireIn")))}),e&&a("disconnect")}n.timing=Object(G["g"])(i),setTimeout(s,1e3)}}n.timerObj1[c]=!0,s()},searchexpireIn:function(){var e=Object(L["a"])(regeneratorRuntime.mark(function e(t){var n,r,a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.state,r=t.dispatch,!n.deviceInfo.bluetooth){e.next=5;break}n.currenTime=1e3*+pe["a"]+Date.parse(new Date),e.next=10;break;case 5:return e.next=7,Object(H["j"])({device_id:n.deviceInfo.id});case 7:a=e.sent,i=a.data,n.currenTime=1e3*+i.expire_in+Date.parse(new Date);case 10:r({type:"timing",currenTime:n.currenTime});case 11:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),disconnect:function(){var e=Object(L["a"])(regeneratorRuntime.mark(function e(t,n){var r,a,i,c,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:r=t.state,a=t.commit,i=t.dispatch,a({type:"clear"}),a({type:"stop"}),a({type:"stop2"}),c=r.deviceInfo.device_id,s=r.deviceInfo,n&&n.selectDataPege?(c&&1===+s.state&&n.info.id!==s.id&&i("qieduan",{device_id:c}),i("searchDevice",{device_id:n.info.device_id,isChangeData:n.selectDataPege.isChangeData,info:n.info,tabchange:n.tabchange})):n&&n.isIndexChange?(c&&1===+s.state&&n.info.id!==s.id&&i("qieduan",{device_id:c}),i("searchDevice",{device_id:n.info.device_id,info:n.info})):c&&1===+s.state&&i("qieduan");case 7:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}(),qieduan:function(){var e=Object(L["a"])(regeneratorRuntime.mark(function e(t,n){var r,a,i,c,s,u;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.state,a=t.dispatch,i={device_id:r.deviceInfo.id},n&&n.device_id&&(i={device_id:n.device_id}),!r.deviceInfo.bluetooth){e.next=18;break}return c=r.deviceInfo.id||"",e.prev=5,e.next=8,Object(H["c"])();case 8:n||(r.deviceInfo={},r.state2=!1),s=r.save_device_info[0]&&r.save_device_info[0].device_type,a("searchDeviceList",{device_type:s,vendor_id:r.save_device_ids});case 11:if(e.prev=11,!c){e.next=15;break}return e.next=15,Object(H["b"])(Object(V["a"])({},i,{device_id:c}));case 15:return e.finish(11);case 16:e.next=23;break;case 18:return e.next=20,Object(H["b"])(i);case 20:n||(r.deviceInfo={},r.state2=!1),u=r.save_device_info[0]&&r.save_device_info[0].device_type,a("searchDeviceList",{device_type:u,vendor_id:r.save_device_ids});case 23:case"end":return e.stop()}},e,this,[[5,,11,16]])}));function t(t,n){return e.apply(this,arguments)}return t}(),startData:function(e){var t=e.state,n=e.dispatch,r=e.commit,a=e.rootState,i=a.task.citizen_id,c=t.citizenInfo.citizen_height,s={height:c,citizen_id:i,device_id:t.deviceInfo.id};r({type:"stop2"});var u=t.timerId2++;function o(){return d.apply(this,arguments)}function d(){return d=Object(L["a"])(regeneratorRuntime.mark(function e(){var r,a,i,c,d,p,l,f,v,h,m,b,g,_,k,w,y,x,O,j,R,I,q,L,D,T,S,N,C,z,E,A,M,J,F,U,$,Y,G,K,X,W,Q,Z,ee,te,ne,re;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t.timerObj2[u]){e.next=2;break}return e.abrupt("return");case 2:for(e.prev=2,r=[],a=!0,i=!1,c=void 0,e.prev=7,d=B()(t.dataset);!(a=(p=d.next()).done);a=!0)l=p.value,r.push(l.data_id);e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](7),i=!0,c=e.t0;case 15:e.prev=15,e.prev=16,a||null==d.return||d.return();case 18:if(e.prev=18,!i){e.next=21;break}throw c;case 21:return e.finish(18);case 22:return e.finish(15);case 23:if(f=r.join(","),v=[],!t.deviceInfo.bluetooth){e.next=33;break}return e.next=28,Object(H["a"])();case 28:h=e.sent,m=h.data,v=m.dataset||[],e.next=38;break;case 33:return e.next=35,Object(H["f"])(Object(V["a"])({},s,{data_ids:f}));case 35:b=e.sent,g=b.data,v=g.dataset||[];case 38:if(setTimeout(o,1e3),0!==v.length){e.next=41;break}return e.abrupt("return");case 41:_=t.predictInfo,console.log(112,_),k=(new Date).getTime(),w=!0,y=!1,x=void 0,e.prev=47,O=B()(v);case 49:if(w=(j=O.next()).done){e.next=126;break}for(R=j.value,R.available="",t.deviceInfo.bluetooth&&(R.detect_time=k),I="",q="",L=!0,D=!1,T=void 0,e.prev=58,S=B()(R.tables);!(L=(N=S.next()).done);L=!0)C=N.value,"pef"===C.name?C.value=(+C.value).toFixed(0):(z=(C.value+"").split("."),z[1]&&z[1].length>2&&(C.value=(+C.value).toFixed(2))),t.deviceInfo.bluetooth?(C.pre_value=_[C.name]||"","fev1/fvc"===C.name&&_.fev1&&_.fvc&&(C.pre_value=+(+_.fev1/+_.fvc*100).toFixed(2)),"ev/fvc"===C.name&&(C.pre_value=_.ev_fvc,q=C.value),"fvc"===C.name&&(I=C.value),C.pre_value&&"string"!==typeof C.pre_value?(E=+C.value/+C.pre_value,C.pv=(100*+E).toFixed(1)+"%"):C.pv="无"):C.pre_value?(A=+C.value/+C.pre_value,C.pv=(100*+A).toFixed(1)+"%"):C.pv="无","%"===C.unit&&(t.deviceInfo.bluetooth?C.pre_value=C.pre_value&&"string"!==typeof C.pre_value?C.pre_value+"%":C.pre_value:C.pre_value=C.pre_value?C.pre_value+"%":C.pre_value,C.value=C.value?C.value+"%":C.value),C.vendor_id=t.lastDeviceInfo.vendor_id,C.device_type=t.lastDeviceInfo.type;e.next=66;break;case 62:e.prev=62,e.t1=e["catch"](58),D=!0,T=e.t1;case 66:e.prev=66,e.prev=67,L||null==S.return||S.return();case 69:if(e.prev=69,!D){e.next=72;break}throw T;case 72:return e.finish(69);case 73:return e.finish(66);case 74:if(q&&R.tables.push({name:"ev",value:(+q*+I).toFixed(2),pre_value:"",vendor_id:t.lastDeviceInfo.vendor_id,device_type:t.lastDeviceInfo.type,nuit:""}),M=[],!R.chart_fv&&R.chart_list&&(R.chart_fv=R.chart_list,delete R.chart_list),!R.chart_fv){e.next=97;break}for(J=!0,F=!1,U=void 0,e.prev=81,$=B()(R.chart_fv);!(J=(Y=$.next()).done);J=!0)G=Y.value,K=[G.x,G.y],M.push(K);e.next=89;break;case 85:e.prev=85,e.t2=e["catch"](81),F=!0,U=e.t2;case 89:e.prev=89,e.prev=90,J||null==$.return||$.return();case 92:if(e.prev=92,!F){e.next=95;break}throw U;case 95:return e.finish(92);case 96:return e.finish(89);case 97:if(X=[],!R.chart_vt){e.next=118;break}for(W=!0,Q=!1,Z=void 0,e.prev=102,ee=B()(R.chart_vt);!(W=(te=ee.next()).done);W=!0)ne=te.value,re=[ne.x,ne.y],X.push(re);e.next=110;break;case 106:e.prev=106,e.t3=e["catch"](102),Q=!0,Z=e.t3;case 110:e.prev=110,e.prev=111,W||null==ee.return||ee.return();case 113:if(e.prev=113,!Q){e.next=116;break}throw Z;case 116:return e.finish(113);case 117:return e.finish(110);case 118:t.tableList.unshift(R.tables),t.chartList.unshift(M),t.volumeTimeList.unshift(X),t.dataset.unshift(JSON.parse(P()(R))),n("searchexpireIn");case 123:w=!0,e.next=49;break;case 126:e.next=132;break;case 128:e.prev=128,e.t4=e["catch"](47),y=!0,x=e.t4;case 132:e.prev=132,e.prev=133,w||null==O.return||O.return();case 135:if(e.prev=135,!y){e.next=138;break}throw x;case 138:return e.finish(135);case 139:return e.finish(132);case 140:e.next=145;break;case 142:e.prev=142,e.t5=e["catch"](2),t.deviceInfo={};case 145:case"end":return e.stop()}},e,this,[[2,142],[7,11,15,23],[16,,18,22],[47,128,132,140],[58,62,66,74],[67,,69,73],[81,85,89,97],[90,,92,96],[102,106,110,118],[111,,113,117],[133,,135,139]])})),d.apply(this,arguments)}t.timerObj2[u]=!0,o()},savedata:function(e,t){var n=e.rootState;n.task.taskList=n.task.taskList.map(function(e){return e=e.map(function(e){return e.frontend_id===t.frontend_id&&(e.value=t.data),e}),e})},searchPredict:function(){var e=Object(L["a"])(regeneratorRuntime.mark(function e(t){var n,r,a,i,c,s,u,o,d,p,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=t.rootState,a=t.dispatch,i=t.state,c=r.task.citizen_id,s=i.deviceInfo.vendor_no,u=i.citizenInfo,o=u.citizen_height,d=u.citizen_weight,e.next=6,Object(H["d"])({params:{citizen_id:c,citizen_height:o,citizen_weight:d},vendor_no:s});case 6:p=e.sent,l=p.data,n({type:"updatePredict",data:l}),a("startData");case 10:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),saveBreathData:function(){var e=Object(L["a"])(regeneratorRuntime.mark(function e(t){var n,r,a,i,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.rootState,r=t.state,0!==r.dataset.length){e.next=3;break}return e.abrupt("return");case 3:a=n.task.allData,i=null,e.t0=r.deviceInfo.vendor_no,e.next="shuomao"===e.t0?8:"chengyirenjia"===e.t0?10:12;break;case 8:return i=4,e.abrupt("break",13);case 10:return i=3,e.abrupt("break",13);case 12:i=null;case 13:return c={device_id:r.deviceInfo.id,serve_id:a.serve_order_id,task_index_id:a.task_index,gauge_id:a.content.questions[0]&&a.content.questions[0].gauge_id,citizen_id:a.citizen_id,dataset:r.dataset,source:i},r.deviceInfo.bluetooth||delete c.source,e.next=17,Object(H["k"])(c);case 17:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}},fe={namespaced:!0,state:{currentItem:{},currentImgIndex:0},mutations:{clearState:function(e){e.currentItem={}},setCurrentItem:function(e,t){e.currentItem=t},delectImg:function(e,t){e.currentItem.value.splice(t,1),e.currentItem.value&&0!==e.currentItem.value.length||history.go(-1)},setCurrentImgIndex:function(e,t){e.currentImgIndex=t}},actions:{}};r["default"].use(q["a"]);var ve=new q["a"].Store({modules:{commonData:C,task:M,checkedException:J,medicine:Y,breath:le,takePhoto:fe}}),he=n("140a"),me=n.n(he),be=n("e526"),ge=n.n(be);r["default"].use(ge.a,{AlloyFinger:me.a}),r["default"].config.productionTip=!1,r["default"].use(i.a),new r["default"]({router:I,store:ve,render:function(e){return e(l)}}).$mount("#app")},"6be8":function(e,t,n){"use strict";n.d(t,"d",function(){return p}),n.d(t,"c",function(){return l}),n.d(t,"g",function(){return f}),n.d(t,"e",function(){return v}),n.d(t,"a",function(){return m}),n.d(t,"b",function(){return b}),n.d(t,"f",function(){return g});var r=n("795b"),a=n.n(r),i=(n("96cf"),n("6b54"),n("cebc")),c=n("3b8d"),s=n("e814"),u=n.n(s),o=n("70f2"),d=n.n(o);function p(e){return e&&d()(+e,"YYYY-MM-DD HH:mm:ss")}function l(e){return e&&d()(+e,"YYYY-MM-DD")}function f(e){var t=Date.parse(new Date),n=+e-t,r=u()(n/1e3/60/60%24),a=u()(n/1e3/60%60),i=u()(n/1e3%60);return r=r>9?r:"0"+r,a=a>9?a:"0"+a,i=i>9?i:"0"+i,{time:"".concat(r,"小时").concat(a,"分").concat(i,"秒"),remaining:n}}function v(e){return h.apply(this,arguments)}function h(){return h=Object(c["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new a.a(function(e,n){var r=new Image;r.crossOrigin="Anonymous",r.onload=function(){var t=document.createElement("canvas");t.width=r.width,t.height=r.height;var n=t.getContext("2d");n.drawImage(r,0,0,r.width,r.height);var a=t.toDataURL("image/png");e(a)},r.onerror=function(e){n(e)},r.src=t}));case 1:case"end":return e.stop()}},e,this)})),h.apply(this,arguments)}function m(e){for(var t={},n=[],r=0;r<e.length;r++){var a=e[r];if(t[a.trigger])for(var c=0;c<n.length;c++){var s=n[c];if(s.trigger===a.trigger&&s.task_index){s.data.push(a);break}}else n.push(Object(i["a"])({},a,{data:a.task_index?[a]:[]})),t[a.trigger]=a}return n}function b(){return(1e7*Math.random()).toString(16).substr(0,4)+"-"+(new Date).getTime()+"-"+Math.random().toString().substr(2,5)}function g(e){var t=null;switch(e){case"chengyirenjia":t=1;break;case"shuomao":t=2;break;default:t=null;break}return t}},"76e9":function(e,t,n){"use strict";n("96cf");var r=n("3b8d"),a=n("7c15"),i=(n("7f7f"),n("f499")),c=n.n(i),s=n("795b"),u=n.n(s),o=n("6be8");function d(e){var t=Object(o["b"])();return new u.a(function(n,r){function a(e){var i=JSON.parse(e.data),c=i.name,s=void 0===c?"":c,u=i.data,o=void 0===u?{}:u,d=i.state,p=void 0===d?"":d,l=i.id,f=void 0===l?"":l;"rnResponse"===s&&t===f&&(document.removeEventListener("message",a,!1),1===p?n({data:o}):r())}window.postMessage(c()({name:"rnRequest",data:e,id:t})),document.addEventListener("message",a,!1)})}n.d(t,"h",function(){return l}),n.d(t,"g",function(){return v}),n.d(t,"i",function(){return m}),n.d(t,"f",function(){return g}),n.d(t,"j",function(){return k}),n.d(t,"b",function(){return y}),n.d(t,"c",function(){return O}),n.d(t,"e",function(){return R}),n.d(t,"d",function(){return q}),n.d(t,"a",function(){return D}),n.d(t,"k",function(){return S});var p="http://localhost:8090";function l(e){return f.apply(this,arguments)}function f(){return f=Object(r["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",a["a"].get("/api/v3/doctorapp/serves/devices/lung/states",{params:t}));case 1:case"end":return e.stop()}},e,this)})),f.apply(this,arguments)}function v(e){return h.apply(this,arguments)}function h(){return h=Object(r["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",a["a"].patch("/api/v3/doctorapp/serves/devices/lung/states",t));case 1:case"end":return e.stop()}},e,this)})),h.apply(this,arguments)}function m(e){return b.apply(this,arguments)}function b(){return b=Object(r["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",d({method:"post",url:"".concat(p,"/api/v3/doctorapp/bluetooth/connect"),data:t}));case 1:case"end":return e.stop()}},e,this)})),b.apply(this,arguments)}function g(e){return _.apply(this,arguments)}function _(){return _=Object(r["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",a["a"].get("/api/v3/doctorapp/serves/devices/lung/data",{params:t}));case 1:case"end":return e.stop()}},e,this)})),_.apply(this,arguments)}function k(e){return w.apply(this,arguments)}function w(){return w=Object(r["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",a["a"].put("/api/v3/doctorapp/serves/devices/lung/states",t));case 1:case"end":return e.stop()}},e,this)})),w.apply(this,arguments)}function y(e){return x.apply(this,arguments)}function x(){return x=Object(r["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",a["a"].delete("/api/v3/doctorapp/serves/devices/lung/states",{params:t}));case 1:case"end":return e.stop()}},e,this)})),x.apply(this,arguments)}function O(){return j.apply(this,arguments)}function j(){return j=Object(r["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",d({method:"get",url:"".concat(p,"/api/v3/doctorapp/bluetooth/disconnect")}));case 1:case"end":return e.stop()}},e,this)})),j.apply(this,arguments)}function R(e){return I.apply(this,arguments)}function I(){return I=Object(r["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",a["a"].get("/api/v3/doctorapp/serves/devices/lung/citizens/".concat(t)));case 1:case"end":return e.stop()}},e,this)})),I.apply(this,arguments)}function q(e){return L.apply(this,arguments)}function L(){return L=Object(r["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if("shuomao"!==t.vendor_no){e.next=4;break}return e.abrupt("return",a["a"].get("/api/v3/doctorapp/serves/devices/lung/predict/shuomao",{params:t.params}));case 4:return e.abrupt("return",a["a"].get("/api/v3/doctorapp/serves/devices/lung/predict",{params:t.params}));case 5:case"end":return e.stop()}},e,this)})),L.apply(this,arguments)}function D(){return T.apply(this,arguments)}function T(){return T=Object(r["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",d({method:"get",url:"".concat(p,"/api/v3/doctorapp/bluetooth/getinfo")}));case 1:case"end":return e.stop()}},e,this)})),T.apply(this,arguments)}function S(e){return N.apply(this,arguments)}function N(){return N=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n="/api/v3/doctorapp/serves/devices/lung/data",e.abrupt("return",a["a"].post(n,t));case 2:case"end":return e.stop()}},e,this)})),N.apply(this,arguments)}},"7c15":function(e,t,n){"use strict";n("96cf"),n("3b8d");var r=n("795b"),a=n.n(r),i=n("f499"),c=n.n(i),s=n("7618"),u=(n("cadf"),n("551c"),n("097d"),n("bc3a")),o=n.n(u),d=n("4328"),p=n.n(d),l=n("76a0"),f=n("5308"),v=n("ace7"),h=!1,m=function(e){e&&(h||(h=!0,Object(l["Toast"])({message:e,position:"top",duration:3e3}),setTimeout(function(){h=!1},3e3)))},b=(o.a.CancelToken,o.a.create({timeout:0}));b.interceptors.request.use(function(e){e.baseURL=Object(v["b"])();var t=Object(f["b"])();if(t&&(e.headers["Authorization"]=t.token,e.headers["VERSION"]=t.native_version,e.headers["PLATFORM"]=t.platform),"object"===Object(s["a"])(e.params))for(var n in e.params=JSON.parse(c()(e.params)),e.params)void 0!==e.params[n]&&null!==e.params[n]&&""!==e.params[n]||delete e.params[n];return e.paramsSerializer=function(e){return p.a.stringify(e,{arrayFormat:"brackets"})},e}),b.interceptors.response.use(function(e){return e},function(e){if(e.noWarn)return a.a.reject(e);if(e&&e.response)switch(e.response.status){case 400:e.message="请求错误";break;case 401:e.message="未授权，请登录",window.postMessage(c()({name:"login"}));break;case 403:e.message="拒绝访问",window.postMessage(c()({name:"login"}));break;case 404:e.message="请求地址出错: ".concat(e.response.config.url);break;case 408:e.message="请求超时";break;case 443:case 444:case 445:case 446:case 447:e.message="当前客户端版本过低，请升级客户端！",window.postMessage(c()({name:"UpdateManager"}));break;case 500:e.message="服务器内部错误";break;case 501:e.message="服务未实现";break;case 502:e.message="网关错误";break;case 503:e.message="服务不可用";break;case 504:e.message="网关超时";break;case 505:e.message="HTTP版本不受支持";break;default:}else"Network Error"===e.message&&(e.message="网络错误，请稍后再试！");return e&&e.response&&e.response.data&&e.response.data.message&&(e.message=e.response.data.message),m(e.message),a.a.reject(e)});t["a"]=b},ace7:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return c}),n.d(t,"d",function(){return s}),n.d(t,"c",function(){return u});var r=Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_BACKEND_SERVER||Global_config.VUE_APP_BACKEND_SERVER,a=Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_EXPIRE_IN||Global_config.VUE_APP_EXPIRE_IN,i=r,c=function(){return i},s=function(e){i=e};function u(e){return/^http/g.test(e)||/^data:image/g.test(e)||(e="".concat(c(),"/api/v3/doctorapp/sys/images?file=").concat(e)),e}},cac1:function(e,t,n){},cef2:function(e,t,n){"use strict";var r=n("cac1"),a=n.n(r);a.a},ebc2:function(e,t,n){"use strict";var r=n("092b"),a=n.n(r);a.a}});